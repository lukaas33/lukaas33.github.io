<!DOCTYPE html>
<html lang="en">
<head>
	<title>Picturer</title>
	<meta name="Picturer" content="Make a profile picture. By Lucas van Osenbruggen">
	<!-- Load the Paper.js library -->
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/paper.js/0.10.2/paper-full.js"></script>
	<!-- Load the jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
	<!-- Font -->
	<link href="https://fonts.googleapis.com/css?family=Noto+Sans" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<!-- User interaction -->
	<script type="text/javascript">
		// These need to be global
		var selectedColor;
		var inputText;
		var drawCircle = true;
		var colors =
		[
			[["#f44336", "#d32f2f"], "red"],
			[["#e91e63", "#c2185b"], "pink"],
			[["#9c27b0", "#7b1fa2"], "purple"],
			[["#673ab7", "#512da8"], "deepPurple"],
			[["#3f51b5", "#303f9f"], "indigo"],
			[["#2196f3", "#1976d2"], "blue"],
			[["#03a9f4", "#0288d1"], "lightBlue"],
			[["#00bcd4", "#0097a7"], "cyan"],
			[["#009688", "#00796b"], "teal"],
			[["#4caf50", "#388e3c"], "green"],
			[["#8bc34a", "#689f38"], "lightGreen"],
			[["#cddc39", "#afb42b"], "lime"],
			[["#ffeb3b", "#fbc02d"], "yellow"],
			[["#ffc107", "#ffa000"], "amber"],
			[["#ff9800", "#f57c00"], "orange"],
			[["#ff5722", "#e64a19"], "deepOrange"],
			[["#795548", "#5d4037"], "brown"],
			[["#9e9e9e", "#757575"], "grey"],
			[["#607d8b", "#455a64"], "blueGrey"]
		];
		// When the document loads
		$(document).ready(function()
		{
			var $colors =	[
				$(".red"),
				$(".pink"),
				$(".purple"),
				$(".deepPurple"),
				$(".indigo"),
				$(".blue"),
				$(".lightBlue"),
				$(".cyan"),
				$(".teal"),
				$(".green"),
				$(".lightGreen"),
				$(".lime"),
				$(".yellow"),
				$(".amber"),
				$(".orange"),
				$(".deepOrange"),
				$(".brown"),
				$(".grey"),
				$(".blueGrey")
			];

			var letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
			console.log(letters);
			inputText = letters[Math.round(Math.random() * (letters.length -1))]; // Random value on initialise
			selectedColor = Math.floor(Math.random() * colors.length); // Random value on initialise

			function update() // Needs to call the drawCanvas function
			{
				console.log("Updating canvas");
			};

			function applySelection()
			{
				$(".selected").children().empty();
				$(".selected").removeClass("selected");
				$colors[selectedColor].children().text("check");
				$colors[selectedColor].addClass("selected");
			};

			var $color = $(".color");
			$color.click(function()
			{
				for (var i = 0; i < colors.length; i++)
				{
					if (!$(this).hasClass("selected"))
					{
						if ($(this).hasClass(colors[i][1]))
						{
							selectedColor = i;
							console.log("You selected num " + selectedColor + ": " + colors[i][1]);
							applySelection();
							update();
						}
					}
				}
			});

			var $text = $('.text');
			$text.val(inputText) ;
			$text.change(function()
			{
				inputText = $text.val();
				console.log("You selected " + inputText);
				update();
			});

			var $forward = $(".forward");
			$forward.click(function()
			{
				console.log("scrolling right");
				$color.scrollLeft(300);
			});
			var $back = $(".back");
			$back.click(function()
			{
				console.log("scrolling left");
			});

			applySelection();

			console.log("-- Welcome to picturer --");
			console.log("-- There are currently more than " + (colors.length * letters.length * 2) + " possible combinations that can be made --"); // Possible colors, possible letters and circle = true or false
		});
	</script>

	<!-- Draw code -->
	<script type="text/paperscript" canvas="canvas">
		paper.install(window); // No accessing through the paper object
		$(document).ready(function()
		{
			function drawCanvas()
			{
				var canvas = $('#canvas');
				paper.setup(canvas[0]); // Only acceps DOM objects

				console.log("Drawing canvas");
				var canHeight = view.viewSize.height; // Height of canvas

				var background = new Path.Rectangle([0, 0], [canHeight, canHeight]); // Fullscreen
				background.fillColor = colors[selectedColor][0][0];

				if (drawCircle)
				{
					var innerCircle = new Path.Circle(view.center, (canHeight * 0.80) / 2);
					innerCircle.fillColor = colors[selectedColor][0][1];
				}

				var centerText = new PointText(
				{
					point: [view.center.x, view.center.y + (canHeight * 0.2)], // Center x and center y + half the height of the font
					content: inputText,
					fillColor: new Color(255, 255, 255, 0.90), // White with 85% opacity
					fontSize: "45vh",
					justification: "center"
				});
			};
			drawCanvas(); // Initial draw
			view.on("resize", drawCanvas); // Redraw when resized
		});
	</script>

	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box; /* Fixes box sizing problem */
			font-family: 'Noto Sans', sans-serif;
			-webkit-user-select: none;
			-webkit-touch-callout: none;
		}
		:focus, :active {
			outline: none;
		}
		/*::-webkit-scrollbar {
			display: none;
		}*/
		body {
			margin: 0;
			padding: 0;
			height: 100%;
			background-color: #eeeeee;
			color: #212121; /* Standard text color */
		}
		box {
			height: 10vh;
		}
		header {
			padding: 25px;
			position: relative;
			z-index: 10;
			background-color: #607d8b;
			box-shadow: 0px 6px 8px rgba(0,0,0,0.15);
		}
		h1 {
			vertical-align: middle;
			color: rgba(255, 255, 255, 0.95);
			font-weight: normal;
		}
		button {
			cursor: pointer;
			border: none;
		}
		.sidebar {
			padding: 40px;
			float: right;
			display: inline-block;
			width: 25vw;
			height: 90vh;
			background-color: #fafafa;
			box-shadow: -2px 0px 10px rgba(0,0,0,0.10);
		}
		.sidebar hr {
			margin: 20px 0px;
			background-color: #BDBDBD;
		}
		.screen {
			height: 90vh;
			padding: 5vh;
			position: relative;
		}
		.container {
			width: 75vw;
			display: inline-block;
		}
		.canvas {
			margin: auto;
			height: 80vh;
			width: 80vh;
			display: block;
			background-color: #ffffff;
			box-shadow: 0px 2px 2px rgba(0,0,0,0.25);
			transition: 0.4s;
		}
		.canvas:hover {
			box-shadow: 0px 4px 10px rgba(0,0,0,0.30);
		}
		canvas[resize] { /* canvas fills .canvas */
			width: 100%;
			height: 100%;
		}
		.selectColor {
			width: auto;
		}
		.arrow {
			display: inline-block;
			width: 5%;
			position: relative;
			height: 60px;
			background-color: transparent;
			color: rgba(0, 0, 0, 0.55);
		}
		.back {
			float: left;
		}
		.forward {
			float: right;
		}
		.text {
			border: 1px solid #e0e0e0;
			padding: 5px;
		}
		.checkbox {
			background-color: transparent;
			width: 100%;
			text-align: left;
			font-size: 16px;
		}
		.checkbox i {
			float: right;
			color: rgba(0, 0, 0, 0.55);
		}
		.colors {
			display: inline-block;
			position: relative;
			margin: auto;
			height: 60px;
			overflow-y: hidden;
			width: 100%;
			overflow-x: auto;
		}
		.colors li {
			display: inline;
			float: left;
		}
		.colors ul {
			width: 1178px;
			height: 60px;
			margin: 0;
			padding: 0;
		}
		.selectBox {
			width: 90%;
			display: inline-block;
		}
		.color {
			cursor: pointer;
			width: 40px;
			margin: 10px 11px;
			height: 40px;
			border-radius: 100%;
		}
		.color i {
			color: rgba(255, 255, 255, 0.85);
			margin: 7.5px;
		}
		.red { background-color: #f44336; }
		.pink { background-color: #e91e63; }
		.purple { background-color: #9c27b0; }
		.deepPurple { background-color: #673ab7; }
		.indigo { background-color: #3f51b5; }
		.blue { background-color: #2196f3; }
		.lightBlue { background-color: #03a9f4; }
		.cyan { background-color: #00bcd4; }
		.teal { background-color: #009688; }
		.indigo { background-color: #4caf50; }
		.green { background-color: #8bc34a; }
		.lightGreen { background-color: #cddc39; }
		.lime { background-color: #ffeb3b; }
		.yellow { background-color: #ffc107; }
		.amber { background-color: #ff9800; }
		.orange { background-color: #ff9800; }
		.deepOrange { background-color: #ff5722; }
		.brown { background-color: #795548; }
		.grey { background-color: #9e9e9e; }
		.blueGrey { background-color: #607d8b; }
		.fab {
			border-radius: 100%;
			background-color: #FF5252;
			width: 60px;
			height: 60px;
			padding: 15px;
			transition: 0.4s;
			box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.15);
			position: absolute;
			bottom: 50px;
			right: 23.25vw;
		}
		.fab:hover {
			box-shadow: 0px 6px 8px rgba(0, 0, 0, 0.25);
		}
		.fab i {
			color: rgba(255, 255, 255, 0.85);
			font-size: 30px;
		}
	</style>
</head>
<body>
	<div class="box">
		<header>
			<h1>Picturer</h1>
		</header>
	</div>
	<div class="container">
		<div class="screen">
			<div class="canvas">
				<canvas id="canvas" resize="true"  keepalive="true"></canvas>
			</div>
		</div>
	</div>
	<div class="sidebar">
		<div class="selectColor">
			<button class="arrow back">
				<i class="material-icons"> keyboard_arrow_left </i>
			</button>
			<div class="selectBox">
				<div class="colors">
					<ul>
						<li><div class="color red"><i class="material-icons">  </i></div></li>
						<li><div class="color pink"><i class="material-icons">  </i></div></li>
						<li><div class="color purple"><i class="material-icons">  </i></div></li>
						<li><div class="color deepPurple"><i class="material-icons">  </i></div></li>
						<li><div class="color indigo"><i class="material-icons">  </i></div></li>
						<li><div class="color blue"><i class="material-icons">  </i></div></li>
						<li><div class="color lightBlue"><i class="material-icons">  </i></div></li>
						<li><div class="color cyan"><i class="material-icons">  </i></div></li>
						<li><div class="color teal"><i class="material-icons">  </i></div></li>
						<li><div class="color green"><i class="material-icons">  </i></div></li>
						<li><div class="color lightGreen"><i class="material-icons">  </i></div></li>
						<li><div class="color lime"><i class="material-icons">  </i></div></li>
						<li><div class="color yellow"><i class="material-icons">  </i></div></li>
						<li><div class="color amber"><i class="material-icons">  </i></div></li>
						<li><div class="color orange"><i class="material-icons">  </i></div></li>
						<li><div class="color deepOrange"><i class="material-icons">  </i></div></li>
						<li><div class="color brown"><i class="material-icons">  </i></div></li>
						<li><div class="color grey"><i class="material-icons">  </i></div></li>
						<li><div class="color blueGrey"><i class="material-icons">  </i></div></li>
					</ul>
				</div>
			</div>
			<button class="arrow forward">
				<i class="material-icons"> keyboard_arrow_right </i>
			</button>
		</div>
		<hr/>
		<div class="selectOptions">
			<button class="checkbox"> Inner circle <i class="material-icons"> check_box_outline_blank </i></button>
		</div>
		<hr/>
		<div class="selectText">
			<p>Symbol</p>
			<br/>
			<input class="text" type="text" maxlength="1" ></input>
		</div>
		<button class="fab">
			<i class="material-icons"> file_download </i>
		</button>
	</div>
</body>
</html>
